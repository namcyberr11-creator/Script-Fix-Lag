-- VUKHOA FIX LAG: LITE & SMOOTH VERSION
local p = game.Players.LocalPlayer
local Lighting = game:GetService("Lighting")

-- TỐI ƯU HÓA SETTING CỦA ROBLOX TRỰC TIẾP QUA SCRIPT
settings().Rendering.QualityLevel = Enum.QualityLevel.Level01
Lighting.GlobalShadows = false
Lighting.FogEnd = 9e9

local active = true -- Mặc định bật luôn để giảm bước quét

local function SmoothHide(v)
    pcall(function()
        if v:IsA("BasePart") and not v:IsDescendantOf(p.Character) then
            v.Transparency = 1
            v.CastShadow = false
            -- Tắt va chạm hình ảnh (không phải va chạm vật lý) để nhẹ hơn
            if v:IsA("MeshPart") then v.RenderFidelity = Enum.RenderFidelity.Performance end
        elseif v:IsA("Decal") or v:IsA("Texture") or v:IsA("ParticleEmitter") then
            v.Enabled = false
        end
    end)
end

-- Chỉ quét 5 giây một lần thay vì quét liên tục để tránh giật máy
task.spawn(function()
    while task.wait(5) do
        if active then
            for _, v in pairs(workspace:GetDescendants()) do
                if v:IsA("BasePart") and v.Transparency < 1 then
                    SmoothHide(v)
                end
            end
        end
    end
end)

print("Đã kích hoạt chế độ siêu mượt!")
